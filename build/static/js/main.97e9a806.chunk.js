(this["webpackJsonpquiz-game"]=this["webpackJsonpquiz-game"]||[]).push([[0],{39:function(e,t,c){},40:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(28),i=c.n(a),o=c(19),r=c(0);var l=function(){return Object(r.jsx)("div",{className:"flex justify-between bg-white p-8",children:Object(r.jsx)(o.b,{to:"/",className:"cursor-pointer",children:Object(r.jsx)("img",{src:"/assets/logo-1.png",alt:"logo",className:"h-20 "})})})},d=c(4),j=c(5),u=c(20),m=c(33);c(39),c(40);var b=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{id:"modal",className:"modal disableModal",children:Object(r.jsxs)("div",{className:"modal__wrap",children:[Object(r.jsx)("button",{className:"close",onClick:e.onClose}),Object(r.jsx)("div",{children:e.children})]})})})},h=c(3),x=c.n(h),O={questions:[{question:"question number 1 ... ?",choices:[{choice:"choice 1",color:"red"},{choice:"choice 2",color:"green"},{choice:"choice 3",color:"blue"},{choice:"choice 4",color:"yellow"}],answer:1}]};var f=function(e){var t=e.onSubmit,c=Object(n.useState)(O),s=Object(j.a)(c,2),a=s[0],i=s[1],o=Object(n.useState)(""),l=Object(j.a)(o,2),h=(l[0],l[1],Object(n.useState)("")),f=Object(j.a)(h,2),p=f[0],v=f[1],N=Object(n.useState)(2),_=Object(j.a)(N,2),g=_[0],q=_[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){v(""),x()("#question").val(""),q(2),x()("#choices-list").empty(),x()("#choices-list").append('                  \n         <div class="flex items-center">\n            <input\n               class="form-control w-full h-12 py-4 mb-8"\n               type="text"\n               name="choice"\n               placeholder="choice"\n            />\n            <input\n               class="ml-6"\n               type="radio"\n               name="answer"\n               value="0"\n            />\n         </div>\n         <div class="flex items-center">\n            <input\n               class="form-control w-full h-12 py-4 mb-8"\n               type="text"\n               name="choice"\n               placeholder="choice"\n            />\n            <input\n               class="ml-6"\n               type="radio"\n               name="answer"\n               value="1"\n            />\n         </div>')},y=function(){document.getElementById("modal").classList.toggle("disableModal"),w()},z=function(e){if(""==e.question||void 0===e.answer)return!1;var t,c=Object(u.a)(e.choices);try{for(c.s();!(t=c.n()).done;){if(""==t.value.choice)return!1}}catch(n){c.e(n)}finally{c.f()}return!0};return Object(r.jsxs)("div",{className:"create__quiz__form border bg-",children:[Object(r.jsxs)("div",{className:"max-w-5xl mx-auto p-8",children:[Object(r.jsx)("button",{className:"button__2 mb-8",onClick:y,children:"Add question"}),a.questions.map((function(e,t){return Object(r.jsxs)("div",{className:"flex justify-between py-4 border-b",children:[Object(r.jsxs)("h3",{children:[Object(r.jsx)("strong",{children:"Q".concat(t+1," - ")}),e.question.length>20?e.question.substring(0,20)+" . . .":e.question]}),Object(r.jsx)("button",{onClick:function(){return function(e){var t=a.questions.filter((function(t,c){return c!=e}));i(Object(d.a)(Object(d.a)({},a),{},{questions:t}))}(t)},className:"remove__question__button"})]},t)})),Object(r.jsx)("div",{className:"flex justify-center my-12",children:Object(r.jsx)("button",{className:"button__1",onClick:function(){if(""!=a.room&&a.questions.length>0){var e=function(){var e,t=["blue","red","yellow","green","purple","pink"],c=[],n=Object(u.a)(a.questions);try{for(n.s();!(e=n.n()).done;){var s,i=e.value,o=[],r=0,l=Object(u.a)(i.choices);try{for(l.s();!(s=l.n()).done;){var d=s.value;o.push({choice:d.choice,color:t[r++]})}}catch(j){l.e(j)}finally{l.f()}c.push({question:i.question,answer:i.answer,choices:o})}}catch(j){n.e(j)}finally{n.f()}return c}();t({questions:e})}else console.log("form not valide")},children:"create"})})]}),Object(r.jsx)(b,{onClose:y,children:Object(r.jsxs)("div",{className:"mt-6",children:[""!==p&&Object(r.jsx)("div",{className:"max-w-lg mx-auto p-2 text-center mb-8 border-b border-red-400",children:Object(r.jsx)("p",{className:"text-red-400",children:p})}),Object(r.jsx)("input",{className:"form-control w-full h-12 py-4 mb-8",type:"text",name:"question",placeholder:"Question",id:"question"}),Object(r.jsxs)("div",{className:"mb-4 ml-6",children:[Object(r.jsx)("button",{onClick:function(){x()("#choices-list").children().length>2&&(x()("#choices-list").children().last().remove(),q(g-1))},className:"px-4 pb-1 text-4xl mx-4 border",children:"-"}),Object(r.jsx)("span",{children:g}),Object(r.jsx)("button",{onClick:function(){x()("#choices-list").children().length<6&&(q(g+1),x()("#choices-list").append('                  \n            <div class="flex items-center">\n            <input\n               class="form-control w-full h-12 py-4 mb-8"\n               type="text"\n               name="choice"\n               placeholder="choice"\n            />\n            <input\n               class="ml-6"\n               type="radio"\n               name="answer"\n               value="'.concat(g,'"\n            />\n         </div>')))},className:"px-4 pb-1 text-4xl mx-4 border",children:"+"})]}),Object(r.jsx)("div",{id:"choices-list",className:"ml-12"}),Object(r.jsx)("div",{className:"flex justify-center my-12",children:Object(r.jsx)("button",{className:"button__1",onClick:function(){var e={question:"",choices:[],answer:""};e.question=x()("#question").val(),x()("#choices-list input[type=text]").each((function(t){var c=x()(this);e.choices.push({choice:c.val()})})),e.answer=x()("#choices-list input[name=answer]:checked").val(),z(e)?(i(Object(d.a)(Object(d.a)({},a),{},{questions:[].concat(Object(m.a)(a.questions),[e])})),y(),w()):v("please fill in all required fields !")},children:"Add Question"})})]})})]})},p=c(32),v={API_ENDPOINT_URL:"http://141.145.209.172:5000"}.API_ENDPOINT_URL,N=Object(p.a)("".concat(v,"/quiz")),_=c.p+"static/media/click.1b1743f7.wav",g={quizOver:!1,quizStart:!1,candidatesData:[],roomCreated:!1,room_id:null};var q=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=(t[0],t[1],Object(n.useState)(g)),s=Object(j.a)(c,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){N.on("connect",(function(){return console.log(N.id)})),N.on("room-status",(function(e){e.is_created&&i((function(t){return Object(d.a)(Object(d.a)({},t),{},{roomCreated:!0,room_id:e.room_id})}))})),N.on("candidate-joind",(function(e){new Audio(_).play(),i((function(t){return Object(d.a)(Object(d.a)({},t),{},{candidatesData:e.candidatesData,roomCreated:!0})}))})),N.on("update-question",(function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{question:e.question,choices:e.choices,quizStart:!0})}))})),N.on("update-score",(function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{candidatesData:e.candidatesData})}))})),N.on("quiz-over",(function(e){i((function(e){return Object(d.a)(Object(d.a)({},e),{},{quizOver:!0})}))}))}),[]),Object(r.jsx)("div",{className:"create__quiz__part ",children:a.roomCreated?a.quizStart||a.quizOver?a.quizStart&&!a.quizOver?Object(r.jsxs)("div",{className:"md:grid md:grid-cols-3 mx-auto border",children:[Object(r.jsxs)("div",{className:"p-8 border-r border-gray-100 col-span-2",children:[Object(r.jsx)("h2",{className:"question text-center mb-8",children:a.question}),Object(r.jsx)("ul",{className:"choice__list max-w-5xl mx-auto ",children:a.choices.map((function(e,t){return Object(r.jsx)("li",{className:"choice__item choice__".concat(e.color," "),style:{animationDelay:"".concat(.3*t,"s")},children:e.choice},t)}))})]}),Object(r.jsx)("div",{className:"p-8 col-span-1",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"text-center mb-8",children:"Candidates"}),Object(r.jsx)("ul",{className:"candidates__list border max-w-3xl mx-auto",children:a.candidatesData.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(r.jsxs)("li",{className:"candidates__item flex justify-between  w-full",children:[Object(r.jsxs)("div",{className:"flex ",children:[Object(r.jsx)("img",{src:"/assets/icons/candidate.svg"}),Object(r.jsx)("h5",{className:"",children:e.candidateName})]}),Object(r.jsx)("span",{className:"score ",children:e.score})]},t)}))})]})})]}):a.quizStart&&a.quizOver?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h2",{className:"text-7xl mb-8",children:"Quiz Over"}),Object(r.jsx)("ul",{className:"candidates__list border max-w-3xl mx-auto",children:a.candidatesData.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(r.jsxs)("li",{className:"candidates__item flex justify-between ",children:[Object(r.jsxs)("div",{className:"flex ",children:[Object(r.jsx)("img",{src:"/assets/icons/candidate.svg"}),Object(r.jsx)("h5",{className:"",children:e.candidateName})]}),Object(r.jsx)("span",{className:"score ",children:e.score})]},t)}))})]}):Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"somthing wrong"})}):Object(r.jsxs)("div",{className:"md:grid md:grid-cols-3 mx-auto border",children:[Object(r.jsxs)("div",{className:"p-8 border-r border-gray-100 col-span-2",children:[Object(r.jsxs)("h4",{children:["Room ID : ",a.room_id]}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"flex justify-center",children:Object(r.jsx)("button",{className:"button__1",onClick:function(){N.emit("start-quiz",{room_id:a.room_id})},children:"Start Quiz"})})]}),Object(r.jsx)("div",{className:"p-8 col-span-1",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"text-center mb-8",children:"Candidates"}),Object(r.jsx)("ul",{className:"candidates__list border max-w-3xl mx-auto",children:a.candidatesData.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(r.jsxs)("li",{className:"candidates__item flex justify-between  w-full",children:[Object(r.jsxs)("div",{className:"flex ",children:[Object(r.jsx)("img",{src:"/assets/icons/candidate.svg"}),Object(r.jsx)("h5",{className:"",children:e.candidateName})]}),Object(r.jsx)("span",{className:"score ",children:e.score})]},t)}))})]})})]}):Object(r.jsx)(f,{onSubmit:function(e){N.emit("create-room",e)}})})};var w=function(){return Object(r.jsxs)("div",{className:"homepage",children:[Object(r.jsx)("h2",{className:"text-center",children:"Welcome to Quiz Test"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)(o.b,{to:"/join",children:"Join Quiz"}),Object(r.jsx)(o.b,{to:"/Create",style:{animationDelay:".3s"},children:"Create Quiz"})]})]})},y={quizOver:!1,quizStart:!1,candidatesData:[],condidateJoind:!1};var z=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),i=Object(j.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(""),m=Object(j.a)(u,2),b=m[0],h=m[1],x=Object(n.useState)(!1),O=Object(j.a)(x,2),f=O[0],p=O[1],v=Object(n.useState)(y),_=Object(j.a)(v,2),g=_[0],q=_[1];return Object(n.useEffect)((function(){N.on("connect",(function(){return console.log(N.id)})),N.on("candidate-joind",(function(e){e.error?s(e.error):q((function(t){return Object(d.a)(Object(d.a)({},t),{},{candidatesData:e.candidatesData,condidateJoind:!0})}))})),N.on("update-question",(function(e){q((function(t){return Object(d.a)(Object(d.a)({},t),{},{question:e.question,choices:e.choices,quizStart:!0})})),p(!0)})),N.on("update-score",(function(e){q((function(t){return Object(d.a)(Object(d.a)({},t),{},{candidatesData:e.candidatesData})}))})),N.on("quiz-over",(function(e){q((function(e){return Object(d.a)(Object(d.a)({},e),{},{quizOver:!0})}))}))}),[]),Object(r.jsx)("div",{className:"join__quiz__part",children:g.condidateJoind?g.quizStart||g.quizOver?g.quizStart&&!g.quizOver?Object(r.jsxs)("div",{className:"md:grid md:grid-cols-3 mx-auto border",children:[Object(r.jsxs)("div",{className:"p-8 col-span-2",children:[Object(r.jsx)("h2",{className:"question text-center mb-8",children:g.question}),Object(r.jsx)("ul",{className:"choice__list max-w-2xl mx-auto",children:g.choices.map((function(e,t){return Object(r.jsx)("li",{className:"choice__item ",children:Object(r.jsx)("button",{className:"choice__item choice__".concat(e.color),disabled:!f,onClick:function(){return e=t,void(f?(N.emit("send-answer",{answer:e,room_id:b}),p(!1)):console.log("you already send answer for this question "));var e},children:e.choice})},t)}))})]}),Object(r.jsxs)("div",{className:"p-8 col-span-1",children:[Object(r.jsx)("h3",{className:"text-center mb-8",children:"Top Candidates"}),Object(r.jsxs)("ul",{className:"candidates__list border max-w-3xl mx-auto",children:[g.candidatesData.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(r.jsxs)("li",{className:"candidates__item flex justify-between  w-full",children:[Object(r.jsxs)("div",{className:"flex ",children:[Object(r.jsx)("img",{src:"/assets/icons/avatar2.svg"}),Object(r.jsx)("h5",{className:"",children:e.candidateName})]}),Object(r.jsx)("span",{className:"score ",children:e.score})]},t)})).splice(0,3),g.candidatesData.length>3&&Object(r.jsx)("li",{className:"candidates__item ",children:Object(r.jsx)("h5",{className:"text-center",children:". . ."})})]})]})]}):g.quizStart&&g.quizOver?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h2",{className:"text-7xl mb-8",children:"Quiz Over"}),Object(r.jsxs)("ul",{className:"candidates__list  max-w-3xl mx-auto",children:[Object(r.jsxs)("h3",{className:"text-center mb-8",children:["Your Score :",g.candidatesData.filter((function(e){return e.id==N.id}))[0].score]}),g.candidatesData.sort((function(e,t){return t.score-e.score}))[0].id===N.id?Object(r.jsx)("h2",{className:"text-center",children:"You Win \ud83e\udd73"}):Object(r.jsx)("h2",{className:"text-center",children:"You Lose \ud83d\ude1e"})]})]}):Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"somthing wrong"})}):Object(r.jsxs)("div",{className:"mt-12 text-center",children:[Object(r.jsx)("h2",{children:"Wait . . ."}),Object(r.jsx)("h3",{children:"Quiz will start in any moment"}),Object(r.jsx)("div",{className:"circle"})]}):Object(r.jsxs)("div",{className:"max-w-xl mx-auto",children:[c&&Object(r.jsx)("div",{className:"max-w-lg mx-auto p-2 text-center mb-8 border-b border-red-400",children:Object(r.jsx)("p",{className:"text-red-400",children:c})}),Object(r.jsx)("input",{onChange:function(e){h(e.target.value)},placeholder:"room",type:"text",name:"room",className:"form-control w-full h-12 py-4 mb-8"}),Object(r.jsx)("input",{onChange:function(e){l(e.target.value)},placeholder:"Your name",type:"text",name:"room",className:"form-control w-full h-12 py-4 mb-8"}),Object(r.jsx)("div",{className:"flex justify-center my-12",children:Object(r.jsx)("button",{className:"button__1",onClick:function(){N.emit("joind-room",{candidate_name:o,room_id:b})},children:"join"})})]})})},S=c(2);var C=function(){return Object(r.jsxs)(S.c,{children:[Object(r.jsx)(S.a,{exact:!0,path:"/",element:Object(r.jsx)(w,{})}),Object(r.jsx)(S.a,{path:"/join",element:Object(r.jsx)(z,{})}),Object(r.jsx)(S.a,{path:"/create",element:Object(r.jsx)(q,{})})]})};var D=function(){var e=Object(n.useState)(2),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(0),i=Object(j.a)(a,2),o=i[0],l=i[1];function d(){var e=setTimeout((function(){x()(".particle").length>0?(x()(".particle")[0].remove(),d()):clearInterval(e)}),300)}return Object(n.useEffect)((function(){x.a.each(x()(".emoji"),(function(){for(var e=x()(this).width()/50*10,t=0;t<=e;t++){var c=Math.floor(4*Math.random())+6;x()(this).append('<span class="cercle-particle" style="top:'+(Math.floor(60*Math.random())+20)+"%; left:"+Math.floor(95*Math.random())+"%;width:"+c+"px; height:"+c+"px;animation-delay: "+Math.floor(3*Math.random())+'s;"></span>')}})),fetch("".concat(v,"/stars")).then((function(e){e.json().then((function(e){l(e.stars)}))}))}),[]),Object(r.jsxs)("div",{onClick:function(){c<=10&&(x()(".emoji").animate({borderSpacing:.1},{start:function(){x()(this).css("transform","scale(1.15)")},duration:200,easing:"linear",done:function(){x()(".emoji").css("transform","scale(1)"),x()("#emoji-img").attr("src","/assets/icons/emoji-"+c+".png"),s(c+1)}}),x.a.each(x()(".emoji"),(function(){for(var e=x()(this).width()/50*5,t=0;t<=e;t++){var c=Math.floor(6*Math.random())+6;x()(this).append('<span class="particle" style="top:'+(Math.floor(60*Math.random())+20)+"%; left:"+Math.floor(95*Math.random())+"%;width:"+c+"px; height:"+c+"px;animation-delay: "+Math.random()+'s;"></span>')}})),setTimeout((function(){d()}),1e3),fetch("".concat(v,"/increaseStars")).then((function(e){l(o+1),fetch("http://localhost:5000/stars").then((function(e){e.json().then((function(e){l(e.stars)}))}))})))},className:"emoji",children:[Object(r.jsx)("img",{id:"emoji-img",src:"/assets/icons/emoji-1.png",alt:""}),Object(r.jsx)("span",{className:"start__number",children:o})]})};var M=function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{className:"main__container rounded-sm bg-white",children:[Object(r.jsx)(l,{}),Object(r.jsx)("div",{className:"p-8",children:Object(r.jsx)(C,{})}),Object(r.jsx)(D,{})]})})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};c(46),c(47);i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(M,{})}),document.getElementById("root")),k()}},[[48,1,2]]]);
//# sourceMappingURL=main.97e9a806.chunk.js.map